var ControlSidebar,MAINMODULE,ALERTSYSTEM;if(typeof jQuery=="undefined")throw new Error("template requires jQuery");ControlSidebar=null;+function(n){"use strict";function r(t){return this.each(function(){var i=n(this),r=i.data(u),f;r||(f=n.extend({},o,i.data(),typeof t=="object"&&t),i.data(u,r=new ControlSidebar(i,f)));typeof t=="string"&&r.toggle()})}var u="max.controlsidebar",o={slide:!0},t={sidebar:".control-sidebar",data:'[data-toggle="control-sidebar"]',open:".control-sidebar-open",bg:".control-sidebar-bg",wrapper:".wrapper",content:".content-wrapper",boxed:".layout-boxed"},i={open:"control-sidebar-open"},f={collapsed:"collapsed.controlsidebar",expanded:"expanded.controlsidebar"},e;ControlSidebar=function(n,t){this.element=n;this.options=t;this.hasBindedResize=!1;this.init()};ControlSidebar.prototype.init=function(){if(!n(this.element).is(t.data))n(this).on("click",this.toggle);this.fix();n(window).resize(function(){this.fix()}.bind(this))};ControlSidebar.prototype.toggle=function(i){i&&i.preventDefault();this.fix();n(t.sidebar).is(t.open)||n("body").is(t.open)?this.collapse():this.expand()};ControlSidebar.prototype.expand=function(){this.options.slide?n(t.sidebar).addClass(i.open):n("body").addClass(i.open);n(this.element).trigger(n.Event(f.expanded))};ControlSidebar.prototype.collapse=function(){n("body, "+t.sidebar).removeClass(i.open);n(this.element).trigger(n.Event(f.collapsed))};ControlSidebar.prototype.fix=function(){n("body").is(t.boxed)&&this._fixForBoxed(n(t.bg))};ControlSidebar.prototype._fixForBoxed=function(i){i.css({position:"absolute",height:n(t.wrapper).height()})};ControlSidebar.Toggle=function(){r.call(n(t.data),"toggle")};e=n.fn.controlSidebar;n.fn.controlSidebar=r;n.fn.controlSidebar.Constructor=ControlSidebar;n.fn.controlSidebar.noConflict=function(){return n.fn.controlSidebar=e,this};n(document).on("click",t.data,function(t){t&&t.preventDefault();r.call(n(this),"toggle")})}(jQuery);MAINMODULE=function(){"use strict";function u(){f();e();o();v();h();y();$('[data-toggle="tooltip"]').tooltip();c()}function f(){n.notificationsMenu="#notificationsMenu";n.spanMessage="#spanMessage";n.translatedJavascriptMessages="#translatedJavascriptMessages";n.sharePopup=".share-popup";n.btnInteractionShare=".btn-interaction-share"}function e(){t.notificationsMenu=$(n.notificationsMenu);t.spanMessage=$(n.spanMessage);t.translatedJavascriptMessages=$(n.translatedJavascriptMessages)}function o(){s();l();a()}function s(){$("body").on("click","#mainmenu li",function(){var n=$(this),t=n.siblings();t.removeClass("active");n.addClass("active")})}function h(){t.translatedJavascriptMessages.find(".msg").each(function(){var n=$(this).data("msgId"),t=$(this).text();i[n]=t})}function c(){var n=t.spanMessage.text();n!==undefined&&n.length>0&&ALERTSYSTEM.Toastr.ShowWarning(n)}function l(){$("body").on("click",".notimplemented",function(n){n.preventDefault();var t=i.msgNotImplementedYet;return ALERTSYSTEM.Toastr.ShowWarning(t),!1})}function a(){$("body").on("click",".needlogin",function(n){n.preventDefault();var t=$(this).data("msgId"),r=i[t];return ALERTSYSTEM.Toastr.ShowWarning(r),!1})}function v(){$(document).ajaxStart(function(){Pace.restart()})}function y(){$.get("/home/notifications",function(n){t.notificationsMenu.html(n)})}function p(n){if(console.log(n.pointsEarned),n.pointsEarned>0){var t=i.mgsPointsEarned;t=t.replace("0",n.pointsEarned);ALERTSYSTEM.Toastr.PointsEarned(t)}}function w(n,t,i){var r=60;t!==undefined&&(r=t);$(n).sticky({topSpacing:r,widthFromWrapper:i===undefined?!0:!1,getWidthFrom:i===undefined?"":i})}function b(n){n.addClass("disabled");r=n.html();n.html(MAINMODULE.Default.SpinnerBtn)}function k(n){n.removeClass("disabled")}function d(n){r=n.html();var t=n.data("errorMsg");n.html(t)}function g(n){n.removeClass("disabled").html(r)}function nt(n,t){n.success===!0?t.removeClass("disabled").html(MAINMODULE.Default.DoneBtn):(t.html(r),t.removeClass("disabled"))}function tt(n,t,i){var r=0,u=i+"_0__",f=i+"[0].";n.find(t).each(function(){var n=$(this);n.find(":input").each(function(){var t=$(this).attr("id"),i=$(this).attr("name"),e,o,s,h,n,c,l;t!==undefined&&i!==undefined&&(e=t.split("__")[1],o=u.replace("0",r)+e,$(this).attr("id",o),s=i.split("].")[1],h=f.replace("0",r)+s,$(this).attr("name",h),n=$(this).attr("aria-describedby"),n!==undefined&&(c=n.split("__")[1],l=u.replace("0",r)+c,$(this).attr("aria-describedby",l)))});n.find("span[data-valmsg-for]").each(function(){var t=$(this).attr("data-valmsg-for"),i,e,n;if(t!==undefined&&(i=t.split("].")[1],e=f.replace("0",r)+i,$(this).attr("data-valmsg-for",e)),n=$(this).find("span"),n.length>0){var o=n.attr("id"),s=o.split("__")[1],h=u.replace("0",r)+s;n.attr("id",h)}});r++})}function it(n){var t=n.data("confirmationmessage"),i=n.data("confirmationtitle"),r=n.data("confirmationbuttontext"),u=n.data("cancelbuttontext");return t===undefined&&(t="Are you sure you want to delete this?"),i===undefined&&(i="Are you sure?"),r===undefined&&(r="Yes, delete it!"),u===undefined&&(u="Cancel"),{msg:t,confirmationTitle:i,confirmationButtonText:r,cancelButtonText:u}}function rt(n,t,i){t&&t(n);n.message?ALERTSYSTEM.ShowSuccessMessage(n.message,function(t){i&&i(t);n.url&&(window.location=n.url)}):n.url&&(window.location=n.url)}var n={},t={},i={},r="";return{Init:u,Layout:{SetStickyElement:w},Common:{HandlePointsEarned:p,HandleSuccessDefault:rt,TranslatedMessages:i,DisableButton:b,EnableButton:k,SetButtonWithError:d,RemoveErrorFromButton:g,PostSaveCallback:nt,RenameInputs:tt,GetDeleteMessages:it},Default:{Spinner:'<div class="spinner flex-square rectangle bg-transparent"><div class="flex-square-inner"><div class="flex-square-inner-content text-dark"><i class="fa fa-spinner fa-3x fa-spin"><\/i><\/div><\/div><\/div>',SpinnerTop:'<div class="bg-transparent text-center"><div class="flex-square-inner"><div class="flex-square-inner-content text-dark"><i class="fa fa-spinner fa-3x fa-spin"><\/i><\/div><\/div><\/div>',SpinnerBtn:'<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span>',DoneBtn:'<i class="fas fa-check"><\/i>'}}}();$(function(){MAINMODULE.Init()});$.fn.serializeObject=function(){var n={},t=this.serializeArray();return $.each(t,function(){n[this.name]?(n[this.name].push||(n[this.name]=[n[this.name]]),n[this.name].push(this.value||"")):n[this.name]=this.value||""}),n};ALERTSYSTEM=function(){"use strict";function t(){i();r()}function i(){}function r(){}function u(t,i){n(t,"warning",i)}function f(t,i){n(t,"info",i)}function n(n,t,i){swal({toast:!0,position:"top-end",type:t,showConfirmButton:!1,title:n,timer:3e3}).then(function(n){i&&i(n)})}function e(n,t){swal({title:"Good job!",text:n,type:"success"}).then(function(n){t&&t(n)})}function o(n,t){swal({toast:!0,position:"top-end",title:n,type:"warning"}).then(function(){t&&t()})}function s(n,t,i,r,u,f){swal({title:n,text:t,type:"question",showCancelButton:!0,confirmButtonColor:"#d33",confirmButtonText:i,cancelButtonText:r}).then(function(n){n.value?(console.log("yes"),u&&u()):(console.log("no"),f&&f())})}return{Init:t,ShowSuccessMessage:e,ShowWarningMessage:o,ShowConfirmMessage:s,Toastr:{ShowWarning:u,PointsEarned:f}}}();$(function(){ALERTSYSTEM.Init()});