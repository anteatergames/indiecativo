function camelize(n){return n.replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,function(n,t){return t===0?n.toLowerCase():n.toUpperCase()})}var ControlSidebar,MAINMODULE,ALERTSYSTEM;if($.fn.serializeObject=function(){var n={},t=this.serializeArray();return $.each(t,function(){var t=camelize(this.name);n[t]?(n[t].push||(n[t]=[n[t]]),n[t].push(this.value||"")):n[t]=this.value||""}),n},typeof jQuery=="undefined")throw new Error("template requires jQuery");ControlSidebar=null;+function(n){"use strict";function r(t){return this.each(function(){var i=n(this),r=i.data(u),f;r||(f=n.extend({},o,i.data(),typeof t=="object"&&t),i.data(u,r=new ControlSidebar(i,f)));typeof t=="string"&&r.toggle()})}var u="max.controlsidebar",o={slide:!0},t={sidebar:".control-sidebar",data:'[data-toggle="control-sidebar"]',open:".control-sidebar-open",bg:".control-sidebar-bg",wrapper:".wrapper",content:".content-wrapper",boxed:".layout-boxed"},i={open:"control-sidebar-open"},f={collapsed:"collapsed.controlsidebar",expanded:"expanded.controlsidebar"},e;ControlSidebar=function(n,t){this.element=n;this.options=t;this.hasBindedResize=!1;this.init()};ControlSidebar.prototype.init=function(){if(!n(this.element).is(t.data))n(this).on("click",this.toggle);this.fix();n(window).resize(function(){this.fix()}.bind(this))};ControlSidebar.prototype.toggle=function(i){i&&i.preventDefault();this.fix();n(t.sidebar).is(t.open)||n("body").is(t.open)?this.collapse():this.expand()};ControlSidebar.prototype.expand=function(){this.options.slide?n(t.sidebar).addClass(i.open):n("body").addClass(i.open);n(this.element).trigger(n.Event(f.expanded))};ControlSidebar.prototype.collapse=function(){n("body, "+t.sidebar).removeClass(i.open);n(this.element).trigger(n.Event(f.collapsed))};ControlSidebar.prototype.fix=function(){n("body").is(t.boxed)&&this._fixForBoxed(n(t.bg))};ControlSidebar.prototype._fixForBoxed=function(i){i.css({position:"absolute",height:n(t.wrapper).height()})};ControlSidebar.Toggle=function(){r.call(n(t.data),"toggle")};e=n.fn.controlSidebar;n.fn.controlSidebar=r;n.fn.controlSidebar.Constructor=ControlSidebar;n.fn.controlSidebar.noConflict=function(){return n.fn.controlSidebar=e,this};n(document).on("click",t.data,function(t){t&&t.preventDefault();r.call(n(this),"toggle")})}(jQuery);MAINMODULE=function(){"use strict";function f(){e();o();s();y();c();p();$('[data-toggle="tooltip"]').tooltip();l()}function e(){n.notificationsMenu="#notificationsMenu";n.spanMessage="#spanMessage";n.translatedJavascriptMessages="#translatedJavascriptMessages";n.sharePopup=".share-popup";n.btnInteractionShare=".btn-interaction-share"}function o(){t.notificationsMenu=$(n.notificationsMenu);t.spanMessage=$(n.spanMessage);t.translatedJavascriptMessages=$(n.translatedJavascriptMessages)}function s(){h();a();v()}function h(){$("body").on("click","#mainmenu li",function(){var n=$(this),t=n.siblings();t.removeClass("active");n.addClass("active")})}function c(){t.translatedJavascriptMessages.find(".msg").each(function(){var n=$(this).data("msgId"),t=$(this).text();i[n]=t})}function l(){var n=t.spanMessage.text();n!==undefined&&n.length>0&&ALERTSYSTEM.Toastr.ShowWarning(n)}function a(){$("body").on("click",".notimplemented",function(n){n.preventDefault();var t=i.msgNotImplementedYet;return ALERTSYSTEM.Toastr.ShowWarning(t),!1})}function v(){$("body").on("click",".needlogin",function(n){n.preventDefault();var t=$(this).data("msgId"),r=i[t];return ALERTSYSTEM.Toastr.ShowWarning(r),!1})}function y(){$(document).ajaxStart(function(){Pace.restart()})}function p(){MAINMODULE.Ajax.LoadHtml("/home/notifications",t.notificationsMenu)}function w(n){if(n.pointsEarned>0){var t=i.mgsPointsEarned;return t=t.replace("0",n.pointsEarned),n.message&&(t=n.message+" "+t),ALERTSYSTEM.Toastr.PointsEarned(t),!0}return!1}function b(n,t,i){var r=60;t!==undefined&&(r=t);$(n).sticky({topSpacing:r,widthFromWrapper:i===undefined?!0:!1,getWidthFrom:i===undefined?"":i})}function k(n){n.addClass("disabled");r=n.html();n.html(MAINMODULE.Default.SpinnerBtn)}function d(n){n.removeClass("disabled")}function g(n){r=n.html();var t=n.data("errorMsg");n.html(t)}function nt(n){n.removeClass("disabled").html(r)}function tt(n,t){n.success===!0?t.removeClass("disabled").html(MAINMODULE.Default.DoneBtn):(t.html(r),t.removeClass("disabled"))}function it(n,t,i){var r=0,u=i+"_0__",f=i+"[0].";n.find(t).each(function(){var n=$(this);n.find(":input").each(function(){var t=$(this).attr("id"),i=$(this).attr("name"),e,o,s,h,n,c,l;t!==undefined&&i!==undefined&&(e=t.split("__")[1],o=u.replace("0",r)+e,$(this).attr("id",o),s=i.split("].")[1],h=f.replace("0",r)+s,$(this).attr("name",h),n=$(this).attr("aria-describedby"),n!==undefined&&(c=n.split("__")[1],l=u.replace("0",r)+c,$(this).attr("aria-describedby",l)))});n.find("span[data-valmsg-for]").each(function(){var t=$(this).attr("data-valmsg-for"),i,e,n;if(t!==undefined&&(i=t.split("].")[1],e=f.replace("0",r)+i,$(this).attr("data-valmsg-for",e)),n=$(this).find("span"),n.length>0){var o=n.attr("id"),s=o.split("__")[1],h=u.replace("0",r)+s;n.attr("id",h)}});r++})}function rt(n){var t=n.data("confirmationmessage"),i=n.data("confirmationtitle"),r=n.data("confirmationbuttontext"),u=n.data("cancelbuttontext");return t===undefined&&(t="Are you sure you want to delete this?"),i===undefined&&(i="Are you sure?"),r===undefined&&(r="Yes, delete it!"),u===undefined&&(u="Cancel"),{msg:t,confirmationTitle:i,confirmationButtonText:r,cancelButtonText:u}}function ut(n,t,i){t&&t(n);n.message?(i&&i(),ALERTSYSTEM.Toastr.ShowSuccess(n.message,function(){n.url&&(window.location=n.url)})):n.url&&(window.location=n.url)}function ft(n){n?$("[data-toggle='popover']").each(function(n,t){var i=$(t).data(),r,u;i.target&&(r=i.target,u=$(r).html().trim(),i.content=u);$(t).popover({html:!0})}):$("[data-toggle='popover']").popover({html:!0})}async function u(n){return await fetch(n,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(n){return n.text()})}async function et(n,t){var i="";if(i=t instanceof jQuery?t.attr("id"):t,i===undefined)return Promise.resolve();document.querySelector("#"+i).innerHTML=MAINMODULE.Default.SpinnerTop;return await u(n).then(function(n){return document.querySelector("#"+i).innerHTML=n,n})}function ot(n,t){$.post(n).done(function(n){n.success===!0?(t&&t(n),ALERTSYSTEM.ShowSuccessMessage(n.message,function(){n.url&&(window.location=n.url)})):ALERTSYSTEM.ShowWarningMessage(n.message)})}var n={},t={},i={},r="";return{Init:f,Layout:{SetStickyElement:b},Ajax:{GetHtml:u,LoadHtml:et,CallBackendAction:ot},Common:{HandlePointsEarned:w,HandleSuccessDefault:ut,TranslatedMessages:i,DisableButton:k,EnableButton:d,SetButtonWithError:g,RemoveErrorFromButton:nt,PostSaveCallback:tt,RenameInputs:it,GetDeleteMessages:rt,BindPopOvers:ft},Default:{Spinner:'<div class="spinner flex-square rectangle bg-transparent"><div class="flex-square-inner"><div class="flex-square-inner-content text-dark"><i class="fa fa-spinner fa-3x fa-spin"><\/i><\/div><\/div><\/div>',SpinnerTop:'<div class="bg-transparent text-center"><div class="flex-square-inner"><div class="flex-square-inner-content text-dark"><i class="fa fa-spinner fa-3x fa-spin"><\/i><\/div><\/div><\/div>',SpinnerBtn:'<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"><\/span>',DoneBtn:'<i class="fas fa-check"><\/i>'}}}();MAINMODULE.Init();ALERTSYSTEM=function(){"use strict";function t(){i();r()}function i(){}function r(){}function u(t,i){n(t,"success",i)}function f(t,i){n(t,"warning",i)}function e(t,i){n(t,"info",i)}function n(n,t,i){Swal.fire({toast:!0,position:"top-end",type:t,showConfirmButton:!1,title:n,timer:3e3}).then(function(n){i&&i(n)})}function o(n,t){Swal.fire({title:"Good job!",text:n,type:"success"}).then(function(n){t&&t(n)})}function s(n,t){Swal.fire({toast:!0,position:"top-end",title:n,type:"warning"}).then(function(){t&&t()})}function h(n,t,i,r,u,f){Swal.fire({title:n,text:t,type:"question",showCancelButton:!0,confirmButtonColor:"#d33",confirmButtonText:i,cancelButtonText:r}).then(function(n){n.value?(console.log("yes"),u&&u()):(console.log("no"),f&&f())})}return{Init:t,ShowSuccessMessage:o,ShowWarningMessage:s,ShowConfirmMessage:h,Toastr:{ShowSuccess:u,ShowWarning:f,PointsEarned:e}}}();$(function(){ALERTSYSTEM.Init()});